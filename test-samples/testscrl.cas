
  CLS
  HIGH
  PLANE 1

; DRAW A SERIES OF SPRITES
; and then scroll down

  LD  VE, 0
  LD  VD, 1

  PLANE 2
  LD  I, SOLID
  LD  V0, 60
  LD  V1, 32
  DRW V0, V1, 1

  LD  V0, 60
  LD  V1, 0
  DRW V0, V1, 1

  LD  V0, 0
  LD  V1, 0
  DRW V0, V1, 1

  SCRL DOWN 1

  LD  V0, 60
  LD  V1, 32
  DRW V0, V1, 1

  ; SHOULD HAVE MOVED - SO NO OVERLAP
  SE  VF, VE
  JP  FAILED3

  ; SHOULD OVER LAP NOW
  LD  V0, 60
  LD  V1, 33
  DRW V0, V1, 1

  SE  VF, VF
  JP  FAILED1

  CLS
  PLANE 2
  LD  I, SOLID
  LD  V0, 60
  LD  V1, 32
  DRW V0, V1, 1

  SCRL DOWN 2

  LD  V0, 60
  LD  V1, 32
  DRW V0, V1, 1

  ; SHOULD HAVE MOVED - SO NO OVERLAP
  SE  VF, VE
  JP  FAILED3

  LD  V0, 60
  LD  V1, 33
  DRW V0, V1, 1

  ; SHOULD HAVE MOVED - SO NO OVERLAP
  SE  VF, VE
  JP  FAILED2

  ; SHOULD OVER LAP NOW
  LD  V0, 60
  LD  V1, 34
  DRW V0, V1, 1

  SE  VF, VF
  JP  FAILED2


OK:
  CLS

  LD  I, OK_PATTERN
  LD  V0, 0
  LD  V1, 0
  DRW V0, V1, 5
  RET

FAILED0:
  LD  VC, 0
  JP  SHOWERR

FAILED1:
  LD  VC, 1
  JP  SHOWERR

FAILED2:
  LD  VC, 2
  JP  SHOWERR

FAILED3:
  LD  VC, 3
  JP  SHOWERR

SHOWERR:
  LDF I, VC
  LD  V0, 0
  LD  V1, 0
  DRW  V0, V1, 5
  RET

OK_PATTERN:
  DB  234, 172, 168, 172, 234

PATTERN1:
  DB  170, 170, 170, 170, 170, 170, 170, 170

PATTERN2:
  DB  14, 15, 255, 15, 15, 15, 15, 15

PATTERN3:
  DB  240, 240, 240, 240, 240, 240, 240, 240

SOLID:
  DB  255, 255, 255, 255, 255, 255, 255, 255
